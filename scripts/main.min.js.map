{"version":3,"sources":["main.js"],"names":["initHeader","calculateHeightWidth","target","x","y","height","canvas","document","getElementById","width","ctx","getContext","circles","c","Circle","push","animate","addListeners","window","addEventListener","scrollCheck","resize","animateHeader","body","scrollTop","console","log","largeHeader","clientWidth","clientHeight","clearRect","i","draw","requestAnimationFrame","init","_this","pos","Math","random","alpha","scale","velocity","this","beginPath","arc","PI","fillStyle","fill","coded","key","shift","length","link","indexOf","charAt","ltr","setAttribute","animateText","duration","timing","start","performance","now","time","timeFraction","progress","animateElement","element","valueToReach","getAttribute","value","pow","innerHTML","round","w1","w2","Waypoint","handler","destroy","offset","iOS","test","navigator","userAgent","inlineStyle","awardsContainer","awardsStyle","headerStyle"],"mappings":"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","file":"main.min.js","sourcesContent":["/**\n * Created by Konnos on 6/24/2017.\n */\n(function () {\n\n  var width, height, canvas, ctx, circles, target, animateHeader = true;\n\n  // Main\n  initHeader();\n  addListeners();\n\n  function initHeader() {\n    calculateHeightWidth();\n    target = {x: 0, y: height};\n\n    // largeHeader = document.getElementById('largeHeader');\n    // largeHeader.style.height = height + 'px';\n\n    canvas = document.getElementById('particle-canvas');\n    canvas.width = width;\n    canvas.height = height;\n    ctx = canvas.getContext('2d');\n\n    //var leafpath = document.getElementById(\"path4137\");\n    //var l = new Path2D(leafpath.getAttribute('d'));\n    //ctx.fillStyle = 'rgba(255,255,255,0.05)';\n    //ctx.fill(l);\n\n    // create particles\n    circles = [];\n    for (var x = 0; x < width * 0.5; x++) {\n      var c = new Circle();\n      circles.push(c);\n    }\n    animate();\n  }\n\n  // Event handling\n  function addListeners() {\n    window.addEventListener('scroll', scrollCheck);\n    window.addEventListener('resize', resize);\n  }\n\n  function scrollCheck() {\n    animateHeader = document.body.scrollTop <= height;\n  }\n\n  function resize() {\n    calculateHeightWidth();\n    console.log(\"clear\");\n    // largeHeader.style.height = height + 'px';\n    canvas.width = width;\n    canvas.height = height;\n  }\n\n\n  function calculateHeightWidth() {\n    var largeHeader = document.getElementById(\"largeHeader\");\n    width = largeHeader.clientWidth;\n    height = largeHeader.clientHeight;\n  }\n\n  function animate() {\n    if (animateHeader) {\n      ctx.clearRect(0, 0, width, height);\n      for (var i in circles) {\n        circles[i].draw();\n      }\n    }\n    requestAnimationFrame(animate);\n    //\n  }\n\n  // Canvas manipulation\n  function Circle() {\n    var _this = this;\n\n    // constructor\n    (function () {\n      _this.pos = {};\n      init();\n      // console.log(_this);\n    })();\n\n    function init() {\n      _this.pos.x = Math.random() * width;\n      _this.pos.y = height + Math.random() * 100;\n      _this.alpha = 0.1 + Math.random() * 0.3;\n      _this.scale = 0.1 + Math.random() * 0.3;\n      _this.velocity = Math.random() + 0.2;\n    }\n\n    this.draw = function () {\n      if (_this.alpha <= 0) {\n        init();\n      }\n      _this.pos.y -= _this.velocity;\n      _this.alpha -= 0.00035;\n      ctx.beginPath();\n      ctx.arc(_this.pos.x, _this.pos.y, _this.scale * 10, 0, 2 * Math.PI, false);\n      ctx.fillStyle = 'rgba(255,255,255,' + _this.alpha + ')';\n      ctx.fill();\n    };\n  }\n})();\n\n(function () {\n  (function () {\n// Email obfuscator script 2.1 by Tim Williams, University of Arizona\n// Random encryption key feature coded by Andrew Moulden\n// This code is freeware provided these four comment lines remain intact\n// A wizard to generate this code is at http://www.jottings.com/obfuscator/\n    coded = \"jE8Lwv@tRv.tL\";\n    key = \"gK43HIq7YTEFN6os5eVfAbBpd1xwk20cUMGlCtJzuLPrQSDmiORnXvy98ZhajW\";\n    shift = coded.length;\n    link = \"\";\n    for (i = 0; i < coded.length; i++) {\n      if (key.indexOf(coded.charAt(i)) === -1) {\n        ltr = coded.charAt(i);\n        link += (ltr)\n      }\n      else {\n        ltr = (key.indexOf(coded.charAt(i)) - shift + key.length) % key.length;\n        link += (key.charAt(ltr))\n      }\n    }\n    document.getElementById(\"mail\").setAttribute(\"href\", \"mailto:\" + link);\n  })();\n\n  (function () {\n    coded = \"ClwAdK.ydKgyl?Mlgg\";\n    key = \"iZTIem3LoM61fHtPRlyr4kxCEFdp7nsu2h5g9wSADWN0QBvVqK8GYcJzbUXjOa\";\n    shift = coded.length;\n    link = \"\";\n    for (i = 0; i < coded.length; i++) {\n      if (key.indexOf(coded.charAt(i)) === -1) {\n        ltr = coded.charAt(i);\n        link += (ltr)\n      }\n      else {\n        ltr = (key.indexOf(coded.charAt(i)) - shift + key.length) % key.length;\n        link += (key.charAt(ltr))\n      }\n    }\n    document.getElementById(\"skype\").setAttribute(\"href\", \"skype:\" + link);\n  })();\n})();\n\n(function () {\n\n  var w1 = document.getElementById('awards');\n  w1.innerHTML = \"0\";\n  var w2 = document.getElementById('articles')\n  w2.innerHTML = \"0\";\n\n  var waypoint = new Waypoint({\n    element: w1,\n    handler: function () {\n      animateElement(1500, w1); //TODO: UNCOMMENT THIS LINE\n      animateElement(1500, w2); //TODO: UNCOMMENT THIS LINE\n      // console.log(\"hellol\");\n      this.destroy();\n    },\n    offset: '80%'\n  });\n\n  function animateText(duration, timing, draw) {\n\n    var start = performance.now();\n\n    requestAnimationFrame(function animate(time) {\n      // timeFraction goes from 0 to 1\n      var timeFraction = (time - start) / duration;\n      if (timeFraction > 1) timeFraction = 1;\n\n      // calculate the current animation state\n      var progress = timing(timeFraction);\n\n      draw(progress); // draw it\n\n      if (timeFraction < 1) {\n        requestAnimationFrame(animate);\n      }\n\n    });\n  }\n\n  function animateElement(duration, element) {\n    var valueToReach = element.getAttribute(\"animate-value\");\n    animateText(duration, function (timeFraction) {\n        //return Math.pow(timeFraction, 2);\n        var value = 1 - Math.pow(1 - timeFraction, 4);\n        return value > 0 ? value : 0;\n      }, function (progress) {\n        element.innerHTML = Math.round(progress * valueToReach);\n      }\n    );\n  }\n\n\n})();\n\n\n(function () {\n  //iOS doesn't support fixed backgrounds\n  var iOS = (/iPad|iPhone|iPod/.test(navigator.userAgent));\n  if (iOS) {\n    var inlineStyle = 'background-attachment: initial;';\n    var awardsContainer = document.getElementById('awardsContainer');\n    var awardsStyle = awardsContainer.getAttribute('style');\n    awardsContainer.setAttribute('style',\n      awardsStyle === '' ? inlineStyle : awardsStyle + ';' + inlineStyle);\n    var largeHeader = document.getElementById('largeHeader');\n    var headerStyle = largeHeader.getAttribute('style');\n    largeHeader.setAttribute('style',\n      headerStyle === '' ? inlineStyle : headerStyle + ';' + inlineStyle);\n  }\n})();\n"]}