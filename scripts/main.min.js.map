{"version":3,"sources":["main.js"],"names":["initHeader","calculateHeightWidth","target","x","y","height","canvas","document","getElementById","width","ctx","getContext","circles","c","Circle","push","animate","addListeners","window","addEventListener","scrollCheck","resize","animateHeader","body","scrollTop","console","log","largeHeader","clientWidth","clientHeight","clearRect","i","draw","requestAnimationFrame","init","_this","pos","Math","random","alpha","scale","velocity","this","beginPath","arc","PI","fillStyle","fill","coded","key","shift","length","link","indexOf","charAt","ltr","setAttribute","animateText","duration","timing","start","performance","now","time","timeFraction","progress","animateElement","element","valueToReach","getAttribute","value","pow","innerHTML","round","w1","w2","Waypoint","handler","destroy","offset"],"mappings":"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","file":"main.min.js","sourcesContent":["/**\r\n * Created by Konnos on 6/24/2017.\r\n */\r\n(function () {\r\n\r\n  var width, height, canvas, ctx, circles, target, animateHeader = true;\r\n\r\n  // Main\r\n  initHeader();\r\n  addListeners();\r\n\r\n  function initHeader() {\r\n    calculateHeightWidth();\r\n    target = {x: 0, y: height};\r\n\r\n    // largeHeader = document.getElementById('large-header');\r\n    // largeHeader.style.height = height + 'px';\r\n\r\n    canvas = document.getElementById('particle-canvas');\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n    ctx = canvas.getContext('2d');\r\n\r\n    //var leafpath = document.getElementById(\"path4137\");\r\n    //var l = new Path2D(leafpath.getAttribute('d'));\r\n    //ctx.fillStyle = 'rgba(255,255,255,0.05)';\r\n    //ctx.fill(l);\r\n\r\n    // create particles\r\n    circles = [];\r\n    for (var x = 0; x < width * 0.5; x++) {\r\n      var c = new Circle();\r\n      circles.push(c);\r\n    }\r\n    animate();\r\n  }\r\n\r\n  // Event handling\r\n  function addListeners() {\r\n    window.addEventListener('scroll', scrollCheck);\r\n    window.addEventListener('resize', resize);\r\n  }\r\n\r\n  function scrollCheck() {\r\n    animateHeader = document.body.scrollTop <= height;\r\n  }\r\n\r\n  function resize() {\r\n    calculateHeightWidth();\r\n    console.log(\"clear\");\r\n    // largeHeader.style.height = height + 'px';\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n  }\r\n\r\n\r\n\r\n  function calculateHeightWidth() {\r\n    var largeHeader = document.getElementById(\"large-header\");\r\n    width = largeHeader.clientWidth;\r\n    height = largeHeader.clientHeight;\r\n  }\r\n\r\n  function animate() {\r\n    if (animateHeader) {\r\n      ctx.clearRect(0, 0, width, height);\r\n      for (var i in circles) {\r\n        circles[i].draw();\r\n      }\r\n    }\r\n    requestAnimationFrame(animate);\r\n    //\r\n  }\r\n\r\n  // Canvas manipulation\r\n  function Circle() {\r\n    var _this = this;\r\n\r\n    // constructor\r\n    (function () {\r\n      _this.pos = {};\r\n      init();\r\n      // console.log(_this);\r\n    })();\r\n\r\n    function init() {\r\n      _this.pos.x = Math.random() * width;\r\n      _this.pos.y = height + Math.random() * 100;\r\n      _this.alpha = 0.1 + Math.random() * 0.3;\r\n      _this.scale = 0.1 + Math.random() * 0.3;\r\n      _this.velocity = Math.random()+0.2;\r\n    }\r\n\r\n    this.draw = function () {\r\n      if (_this.alpha <= 0) {\r\n        init();\r\n      }\r\n      _this.pos.y -= _this.velocity;\r\n      _this.alpha -= 0.00035;\r\n      ctx.beginPath();\r\n      ctx.arc(_this.pos.x, _this.pos.y, _this.scale * 10, 0, 2 * Math.PI, false);\r\n      ctx.fillStyle = 'rgba(255,255,255,' + _this.alpha + ')';\r\n      ctx.fill();\r\n    };\r\n  }\r\n\r\n})();\r\n\r\n(function () {\r\n  (function () {\r\n// Email obfuscator script 2.1 by Tim Williams, University of Arizona\r\n// Random encryption key feature coded by Andrew Moulden\r\n// This code is freeware provided these four comment lines remain intact\r\n// A wizard to generate this code is at http://www.jottings.com/obfuscator/\r\n    coded = \"jE8Lwv@tRv.tL\";\r\n    key = \"gK43HIq7YTEFN6os5eVfAbBpd1xwk20cUMGlCtJzuLPrQSDmiORnXvy98ZhajW\";\r\n    shift = coded.length;\r\n    link = \"\";\r\n    for (i = 0; i < coded.length; i++) {\r\n      if (key.indexOf(coded.charAt(i)) === -1) {\r\n        ltr = coded.charAt(i);\r\n        link += (ltr)\r\n      }\r\n      else {\r\n        ltr = (key.indexOf(coded.charAt(i)) - shift + key.length) % key.length;\r\n        link += (key.charAt(ltr))\r\n      }\r\n    }\r\n    document.getElementById(\"mail\").setAttribute(\"href\", \"mailto:\" + link);\r\n  })();\r\n\r\n  (function () {\r\n    coded = \"ClwAdK.ydKgyl?Mlgg\";\r\n    key = \"iZTIem3LoM61fHtPRlyr4kxCEFdp7nsu2h5g9wSADWN0QBvVqK8GYcJzbUXjOa\";\r\n    shift = coded.length;\r\n    link = \"\";\r\n    for (i = 0; i < coded.length; i++) {\r\n      if (key.indexOf(coded.charAt(i)) === -1) {\r\n        ltr = coded.charAt(i);\r\n        link += (ltr)\r\n      }\r\n      else {\r\n        ltr = (key.indexOf(coded.charAt(i)) - shift + key.length) % key.length;\r\n        link += (key.charAt(ltr))\r\n      }\r\n    }\r\n    document.getElementById(\"skype\").setAttribute(\"href\", \"skype:\" + link);\r\n  })();\r\n})();\r\n\r\n(function () {\r\n\r\n  var w1 = document.getElementById('awards');\r\n  w1.innerHTML = \"0\";\r\n  var w2 = document.getElementById('articles')\r\n  w2.innerHTML = \"0\";\r\n\r\n  var waypoint = new Waypoint({\r\n    element: w1,\r\n    handler: function () {\r\n      animateElement(1500, w1); //TODO: UNCOMMENT THIS LINE\r\n      animateElement(1500, w2); //TODO: UNCOMMENT THIS LINE\r\n      // console.log(\"hellol\");\r\n      this.destroy();\r\n    },\r\n    offset: '80%'\r\n  });\r\n\r\n  function animateText(duration, timing, draw) {\r\n\r\n    var start = performance.now();\r\n\r\n    requestAnimationFrame(function animate(time) {\r\n      // timeFraction goes from 0 to 1\r\n      var timeFraction = (time - start) / duration;\r\n      if (timeFraction > 1) timeFraction = 1;\r\n\r\n      // calculate the current animation state\r\n      var progress = timing(timeFraction);\r\n\r\n      draw(progress); // draw it\r\n\r\n      if (timeFraction < 1) {\r\n        requestAnimationFrame(animate);\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  function animateElement(duration, element) {\r\n    var valueToReach = element.getAttribute(\"animate-value\");\r\n    animateText(duration, function (timeFraction) {\r\n        //return Math.pow(timeFraction, 2);\r\n        var value = 1 - Math.pow(1 - timeFraction, 4);\r\n        return value > 0 ? value : 0;\r\n      }, function (progress) {\r\n        element.innerHTML = Math.round(progress * valueToReach);\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n})();\r\n"]}